<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="./static/css/style.css">
    <script src="./static/js/upload_img.js"></script>
</head>
<body>

    <div id="mySidebar">
      <button class="open-close_btn" onclick="w3_close()">Close &times;</button>

      <div class="top" style="font-size: 20px; text-align: center;">
        Nhóm 
      </div>

      <div class="sb_mid">
        <input type="file" id="imageInput" accept="image/*" style="display: none;" onchange="displayImage()">
        <label style="text-align: center; cursor: pointer;" for="imageInput" style="cursor: pointer;">Upload Image</label>
        <div>
            <img id="uploadedImage" style="max-width: 100%;">
        </div>
        
      </div>

      <div class="sb_bottom">
        <div>Lựa chọn ảnh mẫu:</div>
        <div style="display: flex; justify-content: space-around;">
          <button onclick="prevImage()">&lt;</button>
          <button onclick="nextImage()">&gt;</button>
      </div>
        <img id="displayedImage" src="{% if image_list %}{{ url_for('static', path='img/' + image_list[0]) }}{% endif %}" alt="Displayed Image">
      </div>
    
      <script>
        var currentImageIndex = 0;
        var imageList = {{ image_list_json | safe }};
        
        function updateDisplayedImage() {
            var displayedImage = document.getElementById('displayedImage');
            displayedImage.src = "/static/img/" + imageList[currentImageIndex];
        }
        
        function nextImage() {
            currentImageIndex = (currentImageIndex + 1) % imageList.length;
            updateDisplayedImage();
        }
        
        function prevImage() {
            currentImageIndex = (currentImageIndex - 1 + imageList.length) % imageList.length;
            updateDisplayedImage();
        }
        
        // Initial image display
        updateDisplayedImage();
      </script>
        
      
    </div>
    
    <div id="main">
      <div class="header">
        <div style="display:flex;">
          <button style="display: none;" class="open-close_btn" id="openNav" onclick="w3_open()">&#9776;</button>
          <a href="#default" class="logo">CompanyLogo</a>
        </div>
        
        <div class="header-right">
          <a class="active" href="#home">Home</a>
          <a href="#contact">Contact</a>
          <a href="#about">About</a>
        </div>
      </div>
      
      <div class="content">
        <div class="content_top">a</div>
        <div class="content_bottom">b</div>
      </div>

    </div>
    
    <script>
    function w3_open() {
      document.getElementById("main").style.marginLeft = "2%";
      document.getElementById("mySidebar").style.width = "40%";
      document.getElementById("mySidebar").style.display = "block";
      document.getElementById("openNav").style.display = 'none';
    }
    function w3_close() {
      document.getElementById("main").style.marginLeft = "1%";
      document.getElementById("mySidebar").style.display = "none";
      document.getElementById("openNav").style.display = "inline-block";
    }
    </script>
    
    </body>
</html>

